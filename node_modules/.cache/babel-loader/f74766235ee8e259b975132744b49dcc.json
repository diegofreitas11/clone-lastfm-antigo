{"ast":null,"code":"var defaults = require('./defaults');\n\nvar Album = module.exports = function (lastfm) {\n  this.lastfm = lastfm;\n};\n\nAlbum.prototype.addTags = function (artist, album, tags, callback) {\n  if (!Array.isArray(tags)) {\n    tags = [tags];\n  }\n\n  var options = defaults.defaultOptions({\n    'artist': artist,\n    'album': album,\n    'tags': tags.join(','),\n    'sk': this.lastfm.sessionCredentials.key\n  }, callback);\n  this.lastfm.api.request('album.addTags', options);\n};\n\nAlbum.prototype.getInfo = function (params, callback) {\n  var options = defaults.defaultOptions(params, callback, 'album');\n  this.lastfm.api.request('album.getInfo', options);\n};\n\nAlbum.prototype.getTags = function (params, callback) {\n  if (!params.user) {\n    params.user = this.lastfm.sessionCredentials.username;\n  }\n\n  var options = defaults.defaultOptions(params, callback, 'tags');\n  this.lastfm.api.request('album.getTags', options);\n};\n\nAlbum.prototype.getTopTags = function (params, callback) {\n  var options = defaults.defaultOptions(params, callback, 'toptags');\n  this.lastfm.api.request('album.getTopTags', options);\n};\n\nAlbum.prototype.removeTag = function (artist, album, tag, callback) {\n  var options = defaults.defaultOptions({\n    'artist': artist,\n    'album': album,\n    'tag': tag,\n    'sk': this.lastfm.sessionCredentials.key\n  }, callback);\n  this.lastfm.api.request('album.removeTag', options);\n};\n\nAlbum.prototype.search = function (params, callback) {\n  var options = defaults.defaultOptions(params, callback, 'results');\n  this.lastfm.api.request('album.search', options);\n};","map":{"version":3,"sources":["/home/diegofreitas/clone-lastfm-antigo/node_modules/lastfmapi/lib/album.js"],"names":["defaults","require","Album","module","exports","lastfm","prototype","addTags","artist","album","tags","callback","Array","isArray","options","defaultOptions","join","sessionCredentials","key","api","request","getInfo","params","getTags","user","username","getTopTags","removeTag","tag","search"],"mappings":"AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,YAAD,CAAtB;;AAEA,IAAIC,KAAK,GAAGC,MAAM,CAACC,OAAP,GAAiB,UAAUC,MAAV,EAAkB;AAC9C,OAAKA,MAAL,GAAcA,MAAd;AACA,CAFD;;AAIAH,KAAK,CAACI,SAAN,CAAgBC,OAAhB,GAA0B,UAAUC,MAAV,EAAkBC,KAAlB,EAAyBC,IAAzB,EAA+BC,QAA/B,EAAyC;AAClE,MAAI,CAACC,KAAK,CAACC,OAAN,CAAcH,IAAd,CAAL,EAA0B;AAAEA,IAAAA,IAAI,GAAG,CAAEA,IAAF,CAAP;AAAkB;;AAC9C,MAAII,OAAO,GAAGd,QAAQ,CAACe,cAAT,CAAwB;AACrC,cAAWP,MAD0B;AAErC,aAAUC,KAF2B;AAGrC,YAASC,IAAI,CAACM,IAAL,CAAU,GAAV,CAH4B;AAIrC,UAAO,KAAKX,MAAL,CAAYY,kBAAZ,CAA+BC;AAJD,GAAxB,EAKXP,QALW,CAAd;AAMA,OAAKN,MAAL,CAAYc,GAAZ,CAAgBC,OAAhB,CAAwB,eAAxB,EAAyCN,OAAzC;AACA,CATD;;AAWAZ,KAAK,CAACI,SAAN,CAAgBe,OAAhB,GAA0B,UAAUC,MAAV,EAAkBX,QAAlB,EAA4B;AACrD,MAAIG,OAAO,GAAGd,QAAQ,CAACe,cAAT,CAAwBO,MAAxB,EAAgCX,QAAhC,EAA0C,OAA1C,CAAd;AACA,OAAKN,MAAL,CAAYc,GAAZ,CAAgBC,OAAhB,CAAwB,eAAxB,EAAyCN,OAAzC;AACA,CAHD;;AAKAZ,KAAK,CAACI,SAAN,CAAgBiB,OAAhB,GAA0B,UAAUD,MAAV,EAAkBX,QAAlB,EAA4B;AACrD,MAAI,CAACW,MAAM,CAACE,IAAZ,EAAkB;AAAEF,IAAAA,MAAM,CAACE,IAAP,GAAc,KAAKnB,MAAL,CAAYY,kBAAZ,CAA+BQ,QAA7C;AAAwD;;AAC5E,MAAIX,OAAO,GAAGd,QAAQ,CAACe,cAAT,CAAwBO,MAAxB,EAAgCX,QAAhC,EAA0C,MAA1C,CAAd;AACA,OAAKN,MAAL,CAAYc,GAAZ,CAAgBC,OAAhB,CAAwB,eAAxB,EAAyCN,OAAzC;AACA,CAJD;;AAMAZ,KAAK,CAACI,SAAN,CAAgBoB,UAAhB,GAA6B,UAAUJ,MAAV,EAAkBX,QAAlB,EAA4B;AACxD,MAAIG,OAAO,GAAGd,QAAQ,CAACe,cAAT,CAAwBO,MAAxB,EAAgCX,QAAhC,EAA0C,SAA1C,CAAd;AACA,OAAKN,MAAL,CAAYc,GAAZ,CAAgBC,OAAhB,CAAwB,kBAAxB,EAA4CN,OAA5C;AACA,CAHD;;AAKAZ,KAAK,CAACI,SAAN,CAAgBqB,SAAhB,GAA4B,UAAUnB,MAAV,EAAkBC,KAAlB,EAAyBmB,GAAzB,EAA8BjB,QAA9B,EAAwC;AACnE,MAAIG,OAAO,GAAGd,QAAQ,CAACe,cAAT,CAAwB;AACrC,cAAWP,MAD0B;AAErC,aAAUC,KAF2B;AAGrC,WAAQmB,GAH6B;AAIrC,UAAO,KAAKvB,MAAL,CAAYY,kBAAZ,CAA+BC;AAJD,GAAxB,EAKXP,QALW,CAAd;AAMA,OAAKN,MAAL,CAAYc,GAAZ,CAAgBC,OAAhB,CAAwB,iBAAxB,EAA2CN,OAA3C;AACA,CARD;;AAUAZ,KAAK,CAACI,SAAN,CAAgBuB,MAAhB,GAAyB,UAAUP,MAAV,EAAkBX,QAAlB,EAA4B;AACpD,MAAIG,OAAO,GAAGd,QAAQ,CAACe,cAAT,CAAwBO,MAAxB,EAAgCX,QAAhC,EAA0C,SAA1C,CAAd;AACA,OAAKN,MAAL,CAAYc,GAAZ,CAAgBC,OAAhB,CAAwB,cAAxB,EAAwCN,OAAxC;AACA,CAHD","sourcesContent":["var defaults = require('./defaults');\n\nvar Album = module.exports = function (lastfm) {\n\tthis.lastfm = lastfm;\n};\n\nAlbum.prototype.addTags = function (artist, album, tags, callback) {\n\tif (!Array.isArray(tags)) { tags = [ tags ]; }\n\tvar options = defaults.defaultOptions({\n\t\t'artist' : artist,\n\t\t'album' : album,\n\t\t'tags' : tags.join(','),\n\t\t'sk' : this.lastfm.sessionCredentials.key\n\t}, callback);\n\tthis.lastfm.api.request('album.addTags', options);\n};\n\nAlbum.prototype.getInfo = function (params, callback) {\n\tvar options = defaults.defaultOptions(params, callback, 'album');\n\tthis.lastfm.api.request('album.getInfo', options);\n};\n\nAlbum.prototype.getTags = function (params, callback) {\n\tif (!params.user) { params.user = this.lastfm.sessionCredentials.username; } \n\tvar options = defaults.defaultOptions(params, callback, 'tags');\n\tthis.lastfm.api.request('album.getTags', options);\n};\n\nAlbum.prototype.getTopTags = function (params, callback) {\n\tvar options = defaults.defaultOptions(params, callback, 'toptags');\n\tthis.lastfm.api.request('album.getTopTags', options);\n};\n\nAlbum.prototype.removeTag = function (artist, album, tag, callback) {\n\tvar options = defaults.defaultOptions({\n\t\t'artist' : artist,\n\t\t'album' : album,\n\t\t'tag' : tag,\n\t\t'sk' : this.lastfm.sessionCredentials.key\n\t}, callback);\n\tthis.lastfm.api.request('album.removeTag', options);\n};\n\nAlbum.prototype.search = function (params, callback) {\n\tvar options = defaults.defaultOptions(params, callback, 'results');\n\tthis.lastfm.api.request('album.search', options);\n};\n"]},"metadata":{},"sourceType":"script"}